<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Permutations and transpositions
 - Math Derivations</title>

    <link href="https://fonts.googleapis.com/css?family=Cabin|Quicksand" rel="stylesheet">

    <script>
    // mark the selected page and open the menus leading to it
    // this is easier to write in javascript than in python
    document.addEventListener('DOMContentLoaded', () => {
        let thisPage = window.location.href.split('#')[0];
        if (thisPage.endsWith('/')) {
            thisPage += 'index.html';
        }

        const [selectedLink] = [...document.querySelectorAll('#sidebar a')]
            .filter(a => (a.href === thisPage));
        selectedLink.classList.add('this-page-or-section');

        let dropdown = selectedLink.parentElement;
        while (dropdown.classList.contains('dropdown')) {
            const label = dropdown.previousElementSibling;
            const checkbox = label.previousElementSibling;
            label.classList.add('this-page-or-section');
            checkbox.checked = true;

            dropdown = dropdown.parentElement;
        }
    });
    </script>

    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
        tex: {
            inlineMath: [ ['$','$'] ],
            displayMath: [ ['$$','$$'] ],
            macros: {
                span: '\\operatorname{span}',
                rotate: '\\operatorname{rotate}',
                abs: [ "\\left| {#1} \\right|", 1 ],
                bigvec: [ "\\overrightarrow{#1}", 1 ],
                I: '\\vec{i}',
                J: '\\vec{j}',
                K: '\\vec{k}',
                T: '\\operatorname{T}',
                epsi: '\\varepsilon',
                // colors chosen so that they are distinguishable when together
                red: [ "{\\color{##c00}{#1}}", 1 ],
                blue: [ "{\\color{blue}{#1}}", 1 ],
                green: [ "{\\color{green}{#1}}", 1 ],
                magenta: [ "{\\color{magenta}{#1}}", 1 ],
                darkyellow: [ "{\\color{##ac5f00}{#1}}", 1 ],
            }
        }
    };
    </script>
    <link rel="stylesheet" href="../css/animation.css">
<link rel="stylesheet" href="../css/style.css">

        <script src="../js/animator.js"></script>
        </head>
<body>
<div id="content">
<div id="sidebar"><a href="../index.html">Front page</a>
        <input type="checkbox" id="sidebar-checkbox-0" />
        <label for="sidebar-checkbox-0">Equations and functions</label>
        <div class="dropdown">
            <a href="../eqs-and-funcs/inverse-funcs.html">Inverse functions</a><a href="../eqs-and-funcs/how-equations-work.html">How solving equations works</a><a href="../eqs-and-funcs/incdec-funcs.html">Strictly increasing/decreasing functions</a><a href="../eqs-and-funcs/how-inequations-work.html">How solving inequalities works</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-3" />
        <label for="sidebar-checkbox-3">Vectors</label>
        <div class="dropdown">
            
        <input type="checkbox" id="sidebar-checkbox-1" />
        <label for="sidebar-checkbox-1">Dot product</label>
        <div class="dropdown">
            <a href="../vectors/dot-projection.html">Projection</a><a href="../vectors/angle-between-vectors.html">Angle between vectors</a><a href="../vectors/iwi-jwj.html">$\I$'s with $\I$'s, $\J$'s with $\J$'s</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-2" />
        <label for="sidebar-checkbox-2">Cross product</label>
        <div class="dropdown">
            <a href="../vectors/cross-def.html">Definition</a>
        </div>
        
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-4" />
        <label for="sidebar-checkbox-4">Discrete math</label>
        <div class="dropdown">
            <a href="../discrete/sums.html">Sum formulas</a><a href="../discrete/binom.html">Binomial coefficients</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-7" />
        <label for="sidebar-checkbox-7">Plane geometry</label>
        <div class="dropdown">
            
        <input type="checkbox" id="sidebar-checkbox-5" />
        <label for="sidebar-checkbox-5">Circle</label>
        <div class="dropdown">
            <a href="../plane-geometry/inscribed-angle-theorem.html">Inscribed angle theorem</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-6" />
        <label for="sidebar-checkbox-6">Triangle</label>
        <div class="dropdown">
            <a href="../plane-geometry/law-of-sines.html">Law of sines</a><a href="../plane-geometry/law-of-cosines.html">Law of cosines</a><a href="../plane-geometry/inscribed-circle.html">Inscribed circle</a>
        </div>
        
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-12" />
        <label for="sidebar-checkbox-12">Analytic plane geometry</label>
        <div class="dropdown">
            
        <input type="checkbox" id="sidebar-checkbox-8" />
        <label for="sidebar-checkbox-8">Transforming curves</label>
        <div class="dropdown">
            <a href="../analytic-plane-geometry/reflect.html">Reflecting</a><a href="../analytic-plane-geometry/shift.html">Shifting</a><a href="../analytic-plane-geometry/stretch.html">Stretching</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-9" />
        <label for="sidebar-checkbox-9">Line</label>
        <div class="dropdown">
            <a href="../analytic-plane-geometry/line-eq-normal.html">Equation in normal form</a><a href="../analytic-plane-geometry/distance-line-point.html">Distance between line and point</a><a href="../analytic-plane-geometry/line-eq-slope.html">Equation with slope</a><a href="../analytic-plane-geometry/line-eq-slope-and-point.html">Equation from known slope and point</a><a href="../analytic-plane-geometry/angle-between-lines.html">Angle between lines</a><a href="../analytic-plane-geometry/slope-tan.html">Slope and tan</a><a href="../analytic-plane-geometry/line-eq-determinant.html">Equation with determinant</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-10" />
        <label for="sidebar-checkbox-10">Parabola</label>
        <div class="dropdown">
            <a href="../analytic-plane-geometry/parabola.html">Equation of parabola</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-11" />
        <label for="sidebar-checkbox-11">Hyperbola</label>
        <div class="dropdown">
            <a href="../analytic-plane-geometry/why-its-hyperbola.html">Why is $y=\frac{1}{x}$ a hyperbola?</a>
        </div>
        
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-17" />
        <label for="sidebar-checkbox-17">Calculus</label>
        <div class="dropdown">
            
        <input type="checkbox" id="sidebar-checkbox-13" />
        <label for="sidebar-checkbox-13">Limits</label>
        <div class="dropdown">
            <a href="../calc/limit-def.html">Definition of limit</a><a href="../calc/limit-basics.html">Limit basics</a><a href="../calc/limit-props.html">Limit properties</a><a href="../calc/limit-1sided.html">One-sided limits</a><a href="../calc/limit-ineq.html">Inequality and limit</a><a href="../calc/limit-vector.html">Limit of vector</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-14" />
        <label for="sidebar-checkbox-14">Continuity</label>
        <div class="dropdown">
            <a href="../calc/cont-def.html">Definitions of continuity</a><a href="../calc/cont-props.html">Continuity properties</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-15" />
        <label for="sidebar-checkbox-15">Derivative</label>
        <div class="dropdown">
            <a href="../calc/derivative-def.html">Definition of derivative</a><a href="../calc/derivative-notation.html">Notation for derivatives</a><a href="../calc/derivative-power-rule-1.html">Power rule, part 1</a><a href="../calc/derivative-basic-rules.html">Basic derivative rules</a><a href="../calc/derivative-chain-rule.html">Chain rule</a><a href="../calc/derivative-power-rule-2.html">Power rule, part 2</a><a href="../calc/derivative-product-quotient-rules.html">Product rule and quotient rule</a><a href="../calc/derivative-vector.html">Derivative of vector</a><a href="../calc/derivative-trig.html">Derivatives of $\sin$, $\cos$ and $\tan$</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-16" />
        <label for="sidebar-checkbox-16">Integral</label>
        <div class="dropdown">
            <a href="../calc/integral-intro.html">Introduction to integrals</a><a href="../calc/integral-refinement.html">Refinement of partition</a><a href="../calc/integral-def.html">Defining the integral</a><a href="../calc/integral-average.html">Average</a><a href="../calc/integral-ftoc1.html">Fundamental theorem of calculus, part 1</a><a href="../calc/integral-ftoc2.html">Fundamental theorem of calculus, part 2</a><a href="../calc/integral-notation.html">More notation for integrals</a><a href="../calc/integral-rules.html">Integral rules</a><a href="../calc/integral-usub.html">U substitution</a><a href="../calc/integral-sor-volume.html">Volume of solid of revolution</a><a href="../calc/integral-sor-area.html">Area of surface of revolution</a>
        </div>
        
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-18" />
        <label for="sidebar-checkbox-18">Complex numbers</label>
        <div class="dropdown">
            <a href="../complex/intro.html">Introduction</a><a href="../complex/angle-and-len.html">Angle and length</a><a href="../complex/mul.html">Multiplication</a><a href="../complex/div.html">Division</a><a href="../complex/sqrt.html">Square root</a><a href="../complex/derivative.html">Derivative</a><a href="../complex/exp.html">Exponent function</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-22" />
        <label for="sidebar-checkbox-22">Linear algebra</label>
        <div class="dropdown">
            
        <input type="checkbox" id="sidebar-checkbox-19" />
        <label for="sidebar-checkbox-19">Vectors and matrices</label>
        <div class="dropdown">
            <a href="rotating-intro.html">Introduction (rotating a vector)</a><a href="matrix-vector.html">Matrix times vector</a><a href="matrix-matrix.html">Matrix times matrix</a><a href="matrix-sum.html">Matrix plus matrix</a><a href="matrix-num.html">Matrix times number</a><a href="span-and-dep-defs.html">Defining span and linear (in)dependence</a><a href="span-and-dep-finding.html">Finding span and checking linear (in)dependence</a><a href="matrix-inverse.html">Inverse matrices</a><a href="transpose.html">Transpose</a><a href="inverse-finding.html">Finding inverse matrices</a><a href="inverse-2x2.html">$2 \times 2$ inverse formula</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-20" />
        <label for="sidebar-checkbox-20">Determinants</label>
        <div class="dropdown">
            <a href="det-def.html">Defining determinants</a><a href="det-swaps.html">Permutations and transpositions</a><a href="det-row-ops.html">Calculating determinants with row operations</a><a href="det-transpose.html">Determinant of transpose</a><a href="det-matmul.html">Determinant and matrix multiplication</a>
        </div>
        
        <input type="checkbox" id="sidebar-checkbox-21" />
        <label for="sidebar-checkbox-21">Subspace and basis</label>
        <div class="dropdown">
            <a href="subspace-def.html">Defining subspaces and comparing to spans</a><a href="subspace-basis.html">Basis</a>
        </div>
        
        </div>
        </div>
<h1 id="permutations-and-transpositions">Permutations and transpositions<a class="headerlink" href="#permutations-and-transpositions" title="Link to this title">¶</a></h1><p>I skipped an important detail on <a href="det-def.html#defining-n-times-n-determinants">the previous page</a>.
We calculated determinants of permutation matrices
(i.e. matrices that have all rows of the identity matrix, but in a different order)
by swapping the rows until we eventually got to $\det(I)=1$, e.g.
$$
\begin{align}
\det\begin{bmatrix}
    \red0&\red0&\red1 \\
    \blue1&\blue0&\blue0 \\
    \green0&\green1&\green0
\end{bmatrix}
&= -\det\begin{bmatrix}
    \blue1&\blue0&\blue0 \\
    \red0&\red0&\red1 \\
    \green0&\green1&\green0
\end{bmatrix} \\
&= \det\begin{bmatrix}
    \blue1&\blue0&\blue0 \\
    \green0&\green1&\green0 \\
    \red0&\red0&\red1
\end{bmatrix} = 1.
\end{align}
$$
With an even number of swaps,
this shows that the determinant of the original matrix is $1$,
because the sign in front flips an even number of times.
With an odd number of swaps, we get $-1$.
But can it possible to do an even or an odd number of swaps?
If it is, we must make the determinant undefined,
because it can't simultaneously be both $1$ and $-1$.
</p>

<h2 id="counting-transpositions">Counting transpositions<a class="headerlink" href="#counting-transpositions" title="Link to this title">¶</a></h2><p>Let's assign the numbers $1,2,\dots,n$ to each row of the $n \times n$ identity matrix,
so that with $n=3$ for example, $1$ means $(1,0,0)$, $2$ means $(0,1,0)$ and $3$ means $(0,0,1)$.
Now the identity matrix is represented as $123\dots n$,
and other permutation matrices are represented as the same numbers but possibly in a different order.
The numbers $123\dots n$, but possibly in a different order,
are called a <b>permutation</b>.</p>

<p>Any permutation can be turned into $123\dots n$ by swapping the numbers,
and now the question becomes
whether there exists permutations where
this can be done with an even number of swaps (determinant $+1$)
and with an odd number of swaps (determinant $-1$).</p>

<p>We say that a <b>transposition</b> (not to be confused with <a href="transpose.html">transpose</a>)
is a pair of numbers in a permutation where a bigger number is before a smaller one.
The numbers don't have to be next to each other.
For example, the permutation $1234\dots n$ has no transpositions,
and the permutation $1432$ has three transpositions: $43$, $42$ and $32$.</p>

<p>Note that swapping two adjacent numbers (i.e. any two numbers next to each other)
of a permutation always adds or removes one transposition,
depending on whether the first number is bigger or smaller:
$$
\begin{align}
1\green{43}2 & \quad \text{3 transpositions: }\green{43}, 32, 42 \\
1\red{34}2 & \quad \text{2 transpositions: }32, 42
\end{align}
$$</p>

<p>Swapping any two numbers can be done as a combination of several swaps of adjacent numbers.
The below animation shows how this works when there are 3 numbers between the numbers being swapped.</p>


    <div id="animation-2d9776575090fa5fc4b61e6892a15e26"></div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            function run() {
                window.animator.run("animation-2d9776575090fa5fc4b61e6892a15e26", " --math-unit: 2em; height: calc(1*var(--math-unit));", ...arguments);
            }
                const squares = Array(8).fill().map(() => document.createElement('div'));

    run([
        squares.map((element, i) => ({
            type: 'create',
            element,
            x: i,
            y: 0,
            textContent: [7, 6, 8, 2, 1, 4, 3, 5][i],
            classes: (1<i&&i<5) ? 'square color1' : (i==1||i==5) ? 'square color2' : 'square',
        })),
        [ {type: 'config', element: squares[5], dx: -1}, {type: 'config', element: squares[4], dx: 1} ],
        [ {type: 'config', element: squares[5], dx: -1}, {type: 'config', element: squares[3], dx: 1} ],
        [ {type: 'config', element: squares[5], dx: -1}, {type: 'config', element: squares[2], dx: 1} ],
        [ {type: 'config', element: squares[5], dx: -1}, {type: 'config', element: squares[1], dx: 1} ],
        [ {type: 'config', element: squares[1], dx: 1}, {type: 'config', element: squares[2], dx: -1} ],
        [ {type: 'config', element: squares[1], dx: 1}, {type: 'config', element: squares[3], dx: -1} ],
        [ {type: 'config', element: squares[1], dx: 1}, {type: 'config', element: squares[4], dx: -1} ],
    ]);

        });
    </script>
    <p>The animation consists of 7 swaps:
first 3 swaps to bring the swapped numbers next to each other,
then one swap to actually swap them,
and then 3 more to bring them back to their original places.
In general, if there are $k$ unrelated numbers between the numbers you want to swap,
you need $k+1+k = 2k+1$ swaps of adjacent elements.
Because each swap of adjacent numbers makes the number of transpositions go from even to odd or from odd to even
(as it increases or decreases by one),
an odd number of swaps of adjacent elements as a whole
makes the number of transpositions go from even to odd or from odd to even.</p>

<div class="box graybox"><p><ul><li>
    If a permutation has an even number of transpositions,
    swapping any two numbers will make it have an odd number of transpositions.
</li><li>
    If a permutation has an odd number of transpositions,
    swapping any two numbers will make it have an even number of transpositions.
</li></ul>
</p>

</div><p>Now consider any permutation.
If it has an even number of transpositions,
it is impossible to get to $123\dots n$ by doing an odd number of swaps:
because each swap toggles between even and odd number of transpositions,
the resulting permutation would have an odd number of transpositions,
even though $123\dots n$ has zero (an even number) of transpositions.
Similarly, if the permutation has an odd number of transpositions,
it is impossible to get to $123\dots n$ by doing an even number of swaps.</p>

<p>For determinants of permutation matrices, this means:
<ul><li>
    If the permutation corresponding to the permutation matrix
    has an even number of transpositions,
    only an even number of swaps can bring the permutation matrix to the identity matrix.
</li><li>
    If the permutation corresponding to the permutation matrix
    has an odd number of transpositions,
    only an odd number of swaps can bring the permutation matrix to the identity matrix.
</li></ul></p>

<div class="box graybox"><p>When computing the determinant of a permutation matrix,
the result does not depend on which swaps are used to get to identity matrix.
</p>

</div><p>This shows that there are no problems with how we defined the determinant.
Our definition works for matrices of any size.
</p>

</div>
</body>
</html>
